[gd_scene load_steps=12 format=3 uid="uid://lcjrwqjfoo8q"]

[ext_resource type="PackedScene" uid="uid://dbuidgspjgok3" path="res://Prefabs/belt.tscn" id="2_p22oh"]
[ext_resource type="PackedScene" uid="uid://dv5avlt1da82c" path="res://Prefabs/game_manager.tscn" id="2_yvnag"]
[ext_resource type="Script" uid="uid://dbp5obtkqtsrg" path="res://Scripts/Slot.gd" id="4_p22oh"]
[ext_resource type="Script" uid="uid://cidasou3tfcgk" path="res://Scripts/Cell.gd" id="4_yvnag"]
[ext_resource type="PackedScene" uid="uid://dagadpr6wsoxc" path="res://Prefabs/companies.tscn" id="5_yvnag"]
[ext_resource type="Texture2D" uid="uid://chtx2awoywe7l" path="res://Assets/background.png" id="6_yvnag"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yvnag"]
size = Vector2(70, 25)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4cuy2"]
size = Vector2(116, 41)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qswlu"]
size = Vector2(116, 132)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_h1kxc"]
size = Vector2(116, 19)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vdpq5"]
size = Vector2(122, 149)

[node name="Node2D" type="Node2D"]

[node name="GameManager" parent="." node_paths=PackedStringArray("cell", "player_company") instance=ExtResource("2_yvnag")]
cell = NodePath("../Cell")
player_company = NodePath("../Companies/Cellsung")

[node name="CompSpawnTimer" parent="GameManager" index="0"]
wait_time = 0.25

[node name="CompSpawner" parent="GameManager" index="1"]
position = Vector2(-120, 198)

[node name="Belt" parent="." instance=ExtResource("2_p22oh")]
position = Vector2(-120, 199)

[node name="Conveyor" parent="Belt" index="0"]
position = Vector2(0, -1)

[node name="CollisionShape2D" parent="Belt/Conveyor" index="0"]
position = Vector2(600.5, -1)

[node name="Void" parent="Belt" index="1"]
position = Vector2(-1, -1)

[node name="CollisionShape2D" parent="Belt/Void" index="0"]
position = Vector2(1249, -1)

[node name="Companies" parent="." instance=ExtResource("5_yvnag")]
position = Vector2(17, 501)
scale = Vector2(1.665, 1.665)

[node name="Cell" type="Node2D" parent="." node_paths=PackedStringArray("slots")]
position = Vector2(530, 581)
script = ExtResource("4_yvnag")
slots = [NodePath("CapSlot"), NodePath("SystemSlot"), NodePath("CoreSlot"), NodePath("BottomSlot")]

[node name="CapSlot" type="Node2D" parent="Cell"]
position = Vector2(-1, -101)
script = ExtResource("4_p22oh")

[node name="Area2D" type="Area2D" parent="Cell/CapSlot"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Cell/CapSlot/Area2D"]
position = Vector2(0, -1.5)
shape = SubResource("RectangleShape2D_yvnag")

[node name="SystemSlot" type="Node2D" parent="Cell"]
position = Vector2(-1, -68)
script = ExtResource("4_p22oh")
typeNeeded = 1

[node name="Area2D" type="Area2D" parent="Cell/SystemSlot"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Cell/SystemSlot/Area2D"]
shape = SubResource("RectangleShape2D_4cuy2")

[node name="CoreSlot" type="Node2D" parent="Cell"]
position = Vector2(0, 22)
script = ExtResource("4_p22oh")
typeNeeded = 2

[node name="Area2D" type="Area2D" parent="Cell/CoreSlot"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Cell/CoreSlot/Area2D"]
position = Vector2(-1, -1)
shape = SubResource("RectangleShape2D_qswlu")

[node name="BottomSlot" type="Node2D" parent="Cell"]
position = Vector2(-1, 97)
script = ExtResource("4_p22oh")
typeNeeded = 3

[node name="Area2D" type="Area2D" parent="Cell/BottomSlot"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Cell/BottomSlot/Area2D"]
position = Vector2(0, 1)
shape = SubResource("RectangleShape2D_h1kxc")

[node name="Trash" type="Node2D" parent="."]
position = Vector2(934, 689)
script = ExtResource("4_p22oh")
isTrash = true

[node name="Area2D" type="Area2D" parent="Trash"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Trash/Area2D"]
position = Vector2(1, -3.5)
shape = SubResource("RectangleShape2D_vdpq5")

[node name="Background" type="Sprite2D" parent="."]
z_index = -1
texture_filter = 1
scale = Vector2(3.918367, 3.918367)
texture = ExtResource("6_yvnag")
centered = false

[connection signal="area_entered" from="Belt/Conveyor" to="GameManager" method="_on_conveyor_area_entered"]
[connection signal="area_exited" from="Belt/Conveyor" to="GameManager" method="_on_conveyor_area_exited"]
[connection signal="area_entered" from="Belt/Void" to="GameManager" method="_on_void_area_entered"]
[connection signal="mouse_entered" from="Cell/CapSlot/Area2D" to="Cell/CapSlot" method="_on_area_2d_mouse_entered"]
[connection signal="mouse_exited" from="Cell/CapSlot/Area2D" to="Cell/CapSlot" method="_on_area_2d_mouse_exited"]
[connection signal="mouse_entered" from="Cell/SystemSlot/Area2D" to="Cell/SystemSlot" method="_on_area_2d_mouse_entered"]
[connection signal="mouse_exited" from="Cell/SystemSlot/Area2D" to="Cell/SystemSlot" method="_on_area_2d_mouse_exited"]
[connection signal="mouse_entered" from="Cell/CoreSlot/Area2D" to="Cell/CoreSlot" method="_on_area_2d_mouse_entered"]
[connection signal="mouse_exited" from="Cell/CoreSlot/Area2D" to="Cell/CoreSlot" method="_on_area_2d_mouse_exited"]
[connection signal="mouse_entered" from="Cell/BottomSlot/Area2D" to="Cell/BottomSlot" method="_on_area_2d_mouse_entered"]
[connection signal="mouse_exited" from="Cell/BottomSlot/Area2D" to="Cell/BottomSlot" method="_on_area_2d_mouse_exited"]
[connection signal="hover" from="Trash" to="GameManager" method="_on_trash_hover"]
[connection signal="mouse_entered" from="Trash/Area2D" to="Trash" method="_on_area_2d_mouse_entered"]
[connection signal="mouse_exited" from="Trash/Area2D" to="Trash" method="_on_area_2d_mouse_exited"]

[editable path="GameManager"]
[editable path="Belt"]
